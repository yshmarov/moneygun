<!DOCTYPE html>

<html lang="en" class="h-full bg-base-100 text-base-content">
  <head><%= render "layouts/head" %></head>

  <body class="h-dvh overflow-hidden">
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:z-50 focus:p-4 focus:bg-primary focus:text-primary-content focus:top-0 focus:left-0">
      Skip to main content
    </a>

    <div class="drawer lg:drawer-open">
      <input id="main-drawer" type="checkbox" class="drawer-toggle">

      <div class="drawer-content flex flex-col min-w-0 h-dvh overflow-y-auto">
        <%= render "shared/navbar" %>

        <div class="sticky top-0 z-20 pointer-events-none">
          <div
            id="flash"
            role="alert"
            aria-live="polite"
            class="
              absolute max-lg:left-0 max-lg:right-0 max-lg:translate-x-0
              lg:left-1/2 lg:-translate-x-1/2 z-40 flex flex-col
              max-lg:items-stretch lg:items-center pointer-events-auto
            "
          >
            <%= render "shared/flash" %>
          </div>
        </div>

        <main id="main-content" class="flex-grow p-4 min-w-0 overflow-x-hidden">
          <%= yield %>
        </main>

        <%= render "shared/footer_nav" %>
      </div>

      <%= render "shared/sidebar" %>
    </div>

    <%= turbo_frame_tag :modal %>
    <%= turbo_stream_from "notifications_#{current_user.id}" %>
  </body>
</html>
