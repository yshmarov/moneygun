<!DOCTYPE html>
<html>
  <head>
    <%= render "layouts/head" %>
  </head>

  <body class="flex h-screen">
    <%#= render "shared/sidebar" if signed_in? %>
    <%= render "shared/sidebar_2_cols" if signed_in? %>

    <div class="flex-grow overflow-y-auto flex flex-col">
      <header class="sticky z-30 top-0">
        <%= render "shared/navbar" %>
        <div id="flash" class="absolute flex flex-col z-40 left-1/2 transform -translate-x-1/2">
          <%= render "shared/flash" %>
        </div>
      </header>
      <main class="flex-grow p-2 lg:p-4">
        <% if user_signed_in? %>
          <%= tag.div data: { controller: 'bridge--nav', bridge_side: 'right', bridge_image: 'person.circle' } do %>
            <%= link_to 'Profile', edit_user_registration_path, data: { 'bridge--nav-target': 'item', image: 'person.circle' } %>
            <%= link_to 'Sign Out', destroy_user_session_path, data: { bridge__nav_target: 'item', image: 'return', turbo_method: :delete, turbo: true } %>
            <%# button_to will not work. use link_to %>
            <%#= button_to 'Sign Out', destroy_user_session_path, data: { bridge__nav_target: 'item', image: 'return', method: :delete } %>
          <% end %>
        <% end %>
        <%#= request.user_agent %>
        <%= yield %>
      </main>
      <%= render "shared/footer" %>
      <%= render "shared/footer_nav" %>
    </div>
  </body>
</html>
