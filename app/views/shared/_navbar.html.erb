<nav class="flex justify-between p-4 border-b bg-white">
  <div class="flex items-center gap-2">
    <%= active_link_to "Home", root_path, active: :exclusive, class_active: "bg-gray-100", class: "nav-link" %>

    <% if signed_in? %>
      <%= active_link_to "Accounts", accounts_path, active: :exclusive, class_active: "bg-gray-100", class: "nav-link" %>
      <% if current_account %>
        <%= link_to account_path(@account), class: "inline-flex items-center gap-2 no-underline" do %>
          <div>
            <%= account_avatar(@account) %>
          </div>
          <div class="truncate">
            <%= @account.name %>
          </div>
        <% end %>
      <% end %>
    <% end %>
  </div>

  <%# auth %>
  <div class="flex items-center gap-2">
    <button data-controller="showhide" data-action="showhide#toggle" data-showhide-target-id-value="element-id">
      <%= inline_svg_tag "svg/bars-3.svg", class: "size-8" %>
    </button>

    <% if signed_in? %>
      <%= active_link_to current_user.email, edit_user_registration_path, class_active: "bg-gray-100", class: "nav-link" %>
      <div class="inline-flex">
        <%= button_to "Log out", destroy_user_session_path, method: :delete, data: { turbo_confirm: "Are you sure?" }, class: "nav-link" %>
      </div>
    <% else %>
      <%= active_link_to "Log in", new_user_session_path, class_active: "bg-gray-100", class: "nav-link" %>
      <%= active_link_to "Register", new_user_registration_path, class_active: "bg-gray-100", class: "nav-link" %>
    <% end %>
  </div>
</nav>
